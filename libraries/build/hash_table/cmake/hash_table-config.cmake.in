if(NOT TARGET hash_table::hash_table)
    set(type "")

    if(DEFINED MYLIB_INTERFACE_LIBS AND MYLIB_INTERFACE_LIBS)
        set(type "interface")
    elseif(DEFINED MYLIB_SHARED_LIBS)
        if(MYLIB_SHARED_LIBS)
            set(type "shared")
        else()
            set(type "static")
        endif()
    elseif(BUILD_SHARED_LIBS AND EXISTS "${CMAKE_CURRENT_LIST_DIR}/mylib-shared-targets.cmake")
        set(type "shared")
    elseif(EXISTS "${CMAKE_CURRENT_LIST_DIR}/mylib-static-targets.cmake")
        set(type "static")
    elseif(EXISTS "${CMAKE_CURRENT_LIST_DIR}/mylib-interface-targets.cmake")
        set(type "interface")
    else()
        set(type "shared") # fallback
    endif()

    import_targets(${type})
    check_required_components(mylib)
    message("-- Found ${type} mylib (version ${${CMAKE_FIND_PACKAGE_NAME}_VERSION})")
endif()
